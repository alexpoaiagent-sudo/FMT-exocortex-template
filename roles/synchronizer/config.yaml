# Расписание агентов экзокортекса
# Reference config — scheduler.sh использует hardcoded логику,
# этот файл для документации и будущей миграции на config-driven dispatch.

schedules:
  strategist:
    script: "{{WORKSPACE_DIR}}/FMT-exocortex-template/roles/strategist/scripts/strategist.sh"
    scenarios:
      morning:
        type: daily
        hour: "{{TIMEZONE_HOUR}}"     # Mon=session-prep, Tue-Sun=day-plan
        window: "4-21"                # После 22:00 бесполезен
      note-review:
        type: daily
        hour: 23
        window: "22-23"
      week-review:
        type: weekly
        day: 1                        # Monday
        hour: 0

  extractor:
    script: "{{WORKSPACE_DIR}}/FMT-exocortex-template/roles/extractor/scripts/extractor.sh"
    scenarios:
      inbox-check:
        type: interval
        seconds: 10800                # 3 hours
        work_hours: "7-23"

  synchronizer:
    scenarios:
      code-scan:
        type: daily
        hour: 0
      daily-report:
        type: daily
        hour: 6                       # After strategist morning

notify:
  channels:
    telegram:
      env_file: "~/.config/aist/env"  # TELEGRAM_BOT_TOKEN, TELEGRAM_CHAT_ID
