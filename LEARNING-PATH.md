# Путь изучения экзокортекса

> Всё, что нужно знать для продуктивной работы — от фундамента до продвинутых тем.
> Каждый раздел: **зачем** → **что изучить** → **где найти**.

---

## Как пользоваться этим файлом

1. **Новичок:** Начни с разделов 1-3 (фундамент, репозитории, протоколы). Это ~3 часа.
2. **Работающий пользователь:** Разделы 4-7 (инструменты, агенты, Pack, качество). По мере необходимости.
3. **Продвинутый:** Разделы 8-12 (процессы, онтология, SOTA, бот, стратегия).
4. **Справочник:** Раздел 13 — быстрый поиск ответов.

> Ссылки `./` — файлы в этом репо. Ссылки `github.com/...` — другие репозитории.

---

## 1. Фундаментальные концепции

### 1.1. Нулевые принципы (ZP)

6 транс-дисциплинарных ограничений, которые дисциплинируют всё остальное. Это аксиомы — они не выводятся, а принимаются.

| Принцип | Суть |
|---------|------|
| ZP.1 Аксиоматичность | Строй на аксиомах, не на интуиции |
| ZP.2 Структура и симметрия | Описывай через инварианты, не объекты |
| ZP.3 Многомасштабность | Модель должна работать на разных масштабах |
| ZP.4 Оптимизация | Ищи экстремум, не перебирай |
| ZP.5 Вероятность и информация | Описывай неопределённость количественно |
| ZP.6 Вычислительные пределы | Учитывай конечность ресурсов |

**Где изучить:**
- [ZP/README.md](https://github.com/TserenTserenov/ZP) — обзор всех 6 принципов
- [ZP/hierarchy.md](https://github.com/TserenTserenov/ZP/blob/main/hierarchy.md) — **карта всех 4 уровней принципов** (начни отсюда)
- [ZP/principles/](https://github.com/TserenTserenov/ZP/tree/main/principles) — каждый принцип подробно

### 1.2. Иерархия принципов (0 → 1 → 2 → 3)

Всё знание организовано в 4 уровня. Каждый следующий ограничен предыдущим.

```
Уровень 0: ZP (нулевые принципы)         ← аксиомы, фреймворка нет
    ↓ дисциплинируют
Уровень 1: FPF (первые принципы)          ← принципы + фреймворк (бандл)
    ↓ ограничивают
Уровень 2: SPF → Pack (вторые принципы)   ← фреймворк + принципы (раздельно)
    ↓ определяют
Уровень 3: S2R и др. → Downstream         ← фреймворки + принципы (раздельно)
```

**Fallback chain:** Если непонятно на текущем уровне — поднимись на уровень выше.

**Где изучить:**
- [CLAUDE.md](./CLAUDE.md) § 1 «Архитектура репозиториев» — таблица типов и синонимов
- [ZP/hierarchy.md](https://github.com/TserenTserenov/ZP/blob/main/hierarchy.md) — полная карта иерархии

### 1.3. Жёсткие различения

11 пар понятий, которые **нельзя путать**. Путаница в этих парах — главный источник ошибок.

| # | Пара | Суть различения |
|---|------|----------------|
| 1 | Система ≠ Эпистема | Физические границы vs. область знаний |
| 2 | Метод ≠ Инструмент | Способ работы vs. инструмент работы |
| 3 | Рабочий продукт ≠ Описание | Наблюдаемый артефакт vs. текст о нём |
| 4 | Учёт ≠ Планирование | Фиксация фактов vs. намерения |
| 5 | Роль ≠ Агент ≠ Инструмент | Маска vs. кто/что носит маску vs. инструмент |
| 6 | Метод ≠ Навык | Воспроизводимый процесс vs. личная способность |
| 7 | Процесс ≠ Сервис ≠ Сценарий | Логика внутри системы vs. точка входа vs. межсистемный путь |
| 8 | Модель ≠ Данные ≠ Представление | Структура vs. факты vs. визуальная форма |
| 9 | Паттерн ≠ Практика | Повторяющаяся структура vs. применяемый способ |
| 10 | Компетенция ≠ Квалификация | Способность действовать vs. подтверждение |
| 11 | Формат ≠ Программа | Структура мероприятия vs. содержание обучения |

**Где изучить:**
- [memory/hard-distinctions.md](./memory/hard-distinctions.md) — все 11 пар с примерами и тестами

---

## 2. Типы репозиториев

### 2.1. Пять типов репозиториев

Каждый репозиторий в экзокортексе имеет один из 5 типов. Тип определяет, что можно хранить и кто владеет знанием.

| Тип | Уровень | Что хранит | Source-of-truth? | Примеры |
|-----|---------|-----------|-----------------|---------|
| **Foundation** | 0-й | Транс-дисциплинарные аксиомы | Да | ZP |
| **Framework** | 1-й / 2-й | Фреймворки корректности | Да | FPF, SPF |
| **Pack** | 2-й | Паспорт предметной области | Да | PACK-{твоя-область} |
| **Format** | 3-й | Протоколы структуры | Да (для формата) | FMT-exocortex-template, FMT-s2r |
| **Downstream** | 3-й | Производные от Pack | Нет | DS-strategist-agent, DS-my-strategy |

**Ключевое:** Pack — **единственный** source-of-truth для доменного знания. Downstream потребляет, не создаёт.

**Подтипы Downstream:**
- `instrument` — код, боты, агенты (DS-aist-bot, DS-strategist-agent)
- `governance` — планы, реестры (DS-my-strategy, DS-ecosystem-development)
- `surface` — курсы, гайды, посты (DS-blog, DS-course-materials)

**Где изучить:**
- [CLAUDE.md](./CLAUDE.md) § 1 — полная таблица типов, синонимов, fallback chain
- [memory/repo-type-rules.md](./memory/repo-type-rules.md) — правила по каждому типу: что можно, что нельзя
- [SPF/spec/downstream-contract.md](https://github.com/TserenTserenov/SPF/blob/main/spec/downstream-contract.md) — контракт между Pack и Downstream

### 2.2. Именование репозиториев

| Префикс | Тип | Пример |
|---------|-----|--------|
| `ZP` | Foundation | ZP |
| `FPF`, `SPF` | Framework | FPF, SPF |
| `PACK-` | Pack | PACK-{область} |
| `FMT-` | Format | FMT-exocortex-template |
| `DS-` | Downstream | DS-strategist-agent |

### 2.3. MAPSTRATEGIC.md vs Strategy.md

Два документа — разные роли:

| | MAPSTRATEGIC.md | Strategy.md |
|---|----------------|-------------|
| **Где** | В каждом репо системы | `DS-strategy/docs/` |
| **Кто пишет** | Владелец системы | Стратег (агрегация) |
| **Что** | «Куда двигается ЭТА система» | «Куда двигаюсь Я» |
| **Содержание** | Фазы развития, идеи, горизонт | Миссия, фокусы, приоритеты |

**Поток:** MAPSTRATEGIC → Стратег (session-prep) → Strategy.md → strategy-session → WeekPlan

---

## 3. Протоколы работы

### 3.1. Три стадии сессии: Open → Work → Close

Каждая рабочая сессия с Claude Code проходит три обязательные стадии:

```
Open (вход)           →  Work (работа)            →  Close (выход)
├─ WP Gate            ├─ Capture-to-Pack            ├─ Knowledge Extraction
└─ Ритуал согласования └─ Рубежные проверки         ├─ Обновление MEMORY.md
                                                    ├─ Git commit + push
                                                    └─ Отчёт Close
```

**Пропуск Open** = незапланированная работа. **Пропуск Work** = потерянные знания. **Пропуск Close** = незафиксированный результат.

### 3.2. WP Gate (блокирующее)

**Первое действие на ЛЮБОЕ задание:** проверить, есть ли задача в плане на неделю.

1. Прочитать MEMORY.md → секция «РП текущей недели»
2. Совпадает → работаем
3. Не совпадает → СТОП → записать РП в три места → только потом начать

**Исключения:** задачи ≤15 мин, вопросы без изменений, экстренные баг-фиксы.

**Где изучить:**
- [CLAUDE.md](./CLAUDE.md) § 2 «Протокол Open» — полный алгоритм
- [memory/wp-gate-lesson.md](./memory/wp-gate-lesson.md) — урок из реального нарушения

### 3.3. Ритуал согласования

Перед началом работы Claude объявляет:

> *«Роль: [из таблицы]. Работа: [что]. Рабочий продукт: [артефакт]. Метод: [как]. Оценка: [~Xh].»*

Это создаёт контракт — все понимают, что будет сделано.

### 3.4. Capture-to-Pack (во время работы)

На каждом рубеже (завершена подзадача, обнаружен паттерн, принято решение) проверяй:

| Тип знания | Куда записать | Кто пишет |
|------------|--------------|-----------|
| Правило для всех репо (1-3 строки) | `CLAUDE.md` (корневой) | Claude (сразу) |
| Правило для одного репо | `<repo>/CLAUDE.md` | Claude (сразу) |
| Доменное знание | Соответствующий Pack | Экстрактор (при Close) |
| Крупный урок | `memory/<topic>.md` | Claude (сразу) |

### 3.5. Close Protocol

Обязательный чеклист при завершении сессии:

- [ ] Knowledge Extraction (собрать captures)
- [ ] Обновить MEMORY.md (статусы РП)
- [ ] Закоммитить и запушить
- [ ] Обновить DS-strategy/current/Plan (статусы)
- [ ] Backup: memory/ → DS-strategy/exocortex/
- [ ] WP Context File: обновить или архивировать
- [ ] Отчёт Close: что сделано, что осталось

### 3.6. Exit Protocol (для всех агентов)

Каждый агент, завершив работу, обязан:

| # | Шаг | Что | Зачем |
|---|-----|-----|-------|
| 1 | Артефакт | Зафиксировать результат (коммит, файл) | Без артефакта — работа не существует |
| 2 | Статус | Обновить трекер (WeekPlan, MEMORY.md) | Без статуса — прогресс невидим |
| 3 | Уведомление | Сообщить следующему в цепочке | Без уведомления — цепочка обрывается |

**Где изучить:**
- [CLAUDE.md](./CLAUDE.md) § 2 — полные протоколы Open, Work, Close, Exit

---

## 4. Инструменты экзокортекса

### 4.1. CLAUDE.md — правила для Claude Code

Трёхслойная архитектура инструкций:

| Слой | Файл | Что содержит | Размер |
|------|------|-------------|--------|
| 1 | `MEMORY.md` | Текущие задачи + навигация | ~100 строк |
| 2 | `CLAUDE.md` | Протоколы, архитектура, процессы | ~300 строк |
| 3 | `memory/*.md` | Кросс-системные знания | 8 файлов × ≤100 строк |

**Правило:** MEMORY.md загружается автоматически в каждую сессию. CLAUDE.md читается при старте. memory/*.md — по необходимости.

**Где изучить:**
- [CLAUDE.md](./CLAUDE.md) — сам файл правил
- [memory/claude-md-maintenance.md](./memory/claude-md-maintenance.md) — как обновлять CLAUDE.md

### 4.2. Memory (оперативная память)

8 файлов стабильных кросс-системных знаний:

| Файл | Тема | Когда читать |
|------|------|-------------|
| `MEMORY.md` | Задачи недели + навигация | Каждая сессия (авто) |
| `hard-distinctions.md` | 11 жёстких различений | При путанице в терминах |
| `fpf-reference.md` | Навигация по FPF | При создании/ревью Pack |
| `sota-reference.md` | 18 SOTA-практик | При архитектурных решениях |
| `checklists.md` | Чеклисты качества | Перед ответом, модификацией, предложением |
| `repo-type-rules.md` | Правила по типам репо | При работе с конкретным типом |
| `claude-md-maintenance.md` | Обслуживание CLAUDE.md | При обновлении правил |
| `wp-gate-lesson.md` | Урок WP Gate | При желании «просто быстро сделать» |

**Политика:** Максимум 10 файлов, ≤100 строк каждый. Только кросс-системное. Системно-специфичное → `<repo>/CLAUDE.md`.

**Где изучить:**
- [memory/](./memory/) — все файлы

### 4.3. Digital Twin (цифровой двойник)

Персональные данные пользователя, хранимые в системе:

- **Цели обучения** — что хочешь освоить
- **Самооценка** — текущий уровень по навыкам
- **Контекст** — текущие проблемы, ситуация
- **Стиль** — предпочтения в обучении

Digital Twin используется ботом (T3+) для персонализации ответов и Claude Code (T4+) для адаптации планов.

**Где изучить:**
- Бот: команда `/twin` — просмотр и редактирование
- Digital Twin MCP: `mcp__claude_ai_ddt__describe_by_path` — структура метамодели

### 4.4. WeekPlan и DayPlan

| Документ | Где | Кто создаёт | Что содержит |
|----------|-----|-------------|-------------|
| **WeekPlan** | `DS-strategy/current/Plan W{N}...` | Стратег (Пн утро) | Таблица РП недели, приоритеты, бюджет |
| **DayPlan** | `DS-strategy/current/Day YYYY-MM-DD.md` | Стратег (Вт-Вс утро) | 3-5 задач на день, фокус |
| **WP Context** | `DS-strategy/inbox/WP-{N}-{slug}.md` | Claude Code / Стратег | Живой контекст задачи (что сделано, что осталось) |

**Где изучить:**
- `DS-strategy/` — после установки, посмотри структуру

---

## 5. Роли и ИИ-агенты

### 5.0. Ролецентричный подход

В экзокортексе роль описывается **независимо от исполнителя**. Сначала определяем: что нужно делать, какие обязательства, какие рабочие продукты. Потом выбираем: кто это исполняет (bash-скрипт, Claude, человек).

```
Роль (ЧТО делать)              Исполнитель (КТО делает)
├── Стратег                     ← A1 Claude (CLI)
├── Экстрактор                  ← A1 Claude (CLI)
├── Синхронизатор               ← I2 bash (Grade 0-1) + A1 Claude (Grade 2)
├── Шаблонизатор                ← I3 bash (Grade 0) + A1 Claude (Grade 2)
└── Заказчик                    ← A2 Пользователь (ты)
```

**Ключевые принципы:**
- **Роль ≠ Система.** Одно имя (напр. «Синхронизатор») может обозначать и роль, и систему — это разные ракурсы
- **Один исполнитель — много ролей.** Claude играет роли Стратега, Экстрактора, Кодера, Архитектора
- **Одна роль — много исполнителей.** Роль Синхронизатора: bash (механика) + Claude (аудит консистентности)
- **Grade определяет автономность:** 0 = алгоритм, 2 = частичные решения, 4 = полная автономия

**Шаблон описания роли:**

```yaml
name: "Название"
type: functional | agential       # Grade 0-1 vs Grade 2+
suprasystem: "Надсистема"
obligations: [что ДОЛЖНА делать]
methods: [КАК выполняет]
work_products: [ЧТО создаёт и КОМУ]
scenarios: [ситуации исполнения с min_agency_grade]
current_holders: [кто СЕЙЧАС играет]
failure_modes: [что может сломаться]
```

**Где изучить:**
- Каталог ролей (20 ролей): DP.AGENT.001 §3.2
- Архитектурное обоснование: DP.D.033 (Role-Centric Architecture)

### 5.1. Стратег (DS-strategist-agent)

**Роль:** Трансформирует намерения в структурированные недельные/дневные планы.

| Сценарий | Когда | Как запускается |
|----------|-------|----------------|
| Session-Prep | Пн утро | launchd (авто) или вручную |
| Strategy-Session | После session-prep | Интерактивно с Claude Code |
| Day-Plan | Вт-Вс утро | launchd (авто) или вручную |
| Day-Close | Вечер | Вручную |
| Week-Review | Вс вечер | launchd (авто) |
| Note-Review | По необходимости | Вручную |
| Add-WP | При новой задаче | Вручную |

**Где изучить:**
- [DS-strategist-agent/README.md](https://github.com/TserenTserenov/DS-strategist-agent) — полная документация
- [DS-strategist-agent/prompts/](https://github.com/TserenTserenov/DS-strategist-agent/tree/main/prompts) — 10 промптов для каждого сценария

### 5.2. Экстрактор знаний (DS-extractor-agent)

**Роль:** Трансформирует информацию в формализованные сущности Pack.

**Пайплайн:** `классифицировать → маршрутизировать → формализовать → валидировать`

| Сценарий | Когда | Триггер |
|----------|-------|---------|
| Session-Close | Конец сессии Claude Code | Протокол Close |
| On-Demand | Пользователь просит | Команда |
| Bulk-Extraction | Обработка документов | Вручную |
| Cross-Repo-Sync | Изменение Pack → Downstream | Git hook / вручную |
| Knowledge-Audit | Аудит базы знаний | Ежемесячно |
| Inbox-Check | Проверка captures | launchd (каждые 3 ч) |
| Ontology-Sync | Синхронизация онтологий | При изменении онтологии |

**Ключевое правило:** Экстрактор всегда **предлагает** — никогда не пишет без одобрения.

**Где изучить:**
- [DS-extractor-agent/CLAUDE.md](https://github.com/TserenTserenov/DS-extractor-agent) — инструкции и пайплайн
- [DS-extractor-agent/prompts/](https://github.com/TserenTserenov/DS-extractor-agent/tree/main/prompts) — 7 промптов
- [DS-extractor-agent/MAPSTRATEGIC.md](https://github.com/TserenTserenov/DS-extractor-agent/blob/main/MAPSTRATEGIC.md) — дорожная карта

### 5.3. Синхронизатор (DS-synchronizer)

**Роль:** Наблюдает за изменениями, маршрутизирует информацию, уведомляет агентов.

**Паттерн:** `watch → detect → route → notify`

| Функция | Что делает |
|---------|-----------|
| Fleeting-notes sync | Синхронизация заметок (каждые 2 мин) |
| Notification dispatch | Уведомления в Telegram для всех агентов |
| Template sync | Ежедневная синхронизация шаблона (03:30, вызов R9 Шаблонизатора) |

**Где изучить:**
- [DS-synchronizer/README.md](https://github.com/TserenTserenov/DS-synchronizer) — документация
- [DS-synchronizer/CLAUDE.md](https://github.com/TserenTserenov/DS-synchronizer/blob/main/CLAUDE.md) — инструкции

### 5.4. Наладчик (DS-fixer-agent)

**Роль:** Автоматическое обнаружение и исправление ошибок бота (4 уровня).

| Уровень | Действие | Автономность |
|---------|---------|-------------|
| L1 Unstick | Сброс зависшего FSM | Полная (в процессе бота) |
| L2 Auto-fix | Классификация → fix → PR | Через PR (ревью человеком) |
| L3 Restart | Перезапуск через Railway API | Автоматический (по порогу) |
| L4 Escalate | GitHub Issue + TG-уведомление | Уведомление человека |

**Где изучить:**
- [DS-fixer-agent/README.md](https://github.com/TserenTserenov/DS-fixer-agent) — уровни и безопасность
- [DS-fixer-agent/CLAUDE.md](https://github.com/TserenTserenov/DS-fixer-agent/blob/main/CLAUDE.md) — инструкции

### 5.5. Статистик (DS-pulse-agent)

**Роль:** Tier-aware аналитика: DAU/WAU/MAU, retention, latency, сессии.

| Режим | Интерфейс | Триггер |
|-------|-----------|---------|
| Scheduled report | CLI → TG/файл | launchd (7:00) |
| On-demand | Бот, команда `/analytics` | По запросу |

**Где изучить:**
- [DS-pulse-agent/README.md](https://github.com/TserenTserenov/DS-pulse-agent) — метрики, тиры, режимы
- [DS-pulse-agent/CLAUDE.md](https://github.com/TserenTserenov/DS-pulse-agent/blob/main/CLAUDE.md) — инструкции

### 5.6. Шаблонизатор (R9)

**Роль:** Поддержание актуальных генеративных шаблонов. Экзокортекс — первый шаблон, могут быть другие.

**Итоговый рабочий продукт:** Актуальный генеративный шаблон — репозиторий на GitHub, который в любой момент: актуален (≤24ч), генеративен (fork → setup.sh → работает), чист (нет авторских данных), понятен.

| Сценарий | Триггер | Grade |
|----------|---------|-------|
| Template Sync | Ежедневно (03:30, через R8 Синхронизатор) | 0 |
| Drift Detection | После sync или по запросу | 2 (ИИ) |
| Semantic Validation | После sync (если были изменения) | 2 (ИИ) |
| First-Time Setup | Пользователь: `bash setup.sh` | 0 |
| User Update | Пользователь: `bash update.sh` | 0 |
| Generativity Check | CI (GitHub Actions) | 0 |

**Как получить обновления:**
```bash
bash update.sh          # Получить последние изменения из upstream
bash update.sh --check  # Превью без применения
```

> MEMORY.md **никогда** не перезаписывается при обновлении — пользовательские данные защищены.

### Схема взаимодействия агентов

```
Расписание / Действие пользователя
    ↓
DS-synchronizer (диспетчер)
    ├─→ DS-strategist-agent (планы, обзоры)
    │   └─→ пишет: DS-strategy/current/Plan, Day, Report
    ├─→ DS-extractor-agent (извлечение знаний)
    │   └─→ пишет: Pack-сущности, DS-strategy/inbox/
    ├─→ DS-fixer-agent (ошибки бота)
    │   └─→ создаёт: GitHub PR, Issues
    ├─→ DS-pulse-agent (аналитика)
    │   └─→ пишет: TG-отчёт, /analytics
    └─→ Уведомления в Telegram
```

---

## 6. Pack — базы знаний

### 6.1. Что такое Pack

Pack — формализованный паспорт предметной области. Единственный source-of-truth для доменного знания.

**Содержит:**
- Bounded Context (границы области)
- Различения (что нельзя путать)
- Онтология (сущности и связи)
- Роли (кто действует)
- Методы (как действовать)
- Рабочие продукты (результаты методов)
- Failure Modes (типичные ошибки)
- SOTA-аннотации (актуальность знания)

### 6.2. Как создать Pack (11 стадий SPF)

SPF определяет **процесс** создания Pack из 11 обязательных стадий:

| # | Стадия | Суть |
|---|--------|------|
| 01 | Выбор домена | Определить и ограничить область |
| 02 | Bounded Context | Установить семантические границы |
| 03 | Работа с различениями | Какие пары нельзя путать |
| 04 | Идентификация сущностей | Роли, объекты, ограничения |
| 05 | Приём информации | Ввод материалов для анализа |
| 06 | Анализ и формализация | Формализация через различения |
| 07 | Извлечение методов и РП | Методы → рабочие продукты |
| 08 | Извлечение failure modes | Типичные ошибки интерпретации |
| 09 | SOTA-аннотации | Статус: current / hypothesis / deprecated |
| 10 | Обслуживание карты | Граф связей между сущностями |
| 11 | Цикл ревью и эволюции | Протокол непрерывного обновления |

**Где изучить:**
- [SPF/README.md](https://github.com/TserenTserenov/SPF) — обзор фреймворка
- [SPF/process/](https://github.com/TserenTserenov/SPF/tree/main/process) — все 11 стадий подробно
- [SPF/process/process-lint.md](https://github.com/TserenTserenov/SPF/blob/main/process/process-lint.md) — гейт качества (обязательные проверки)
- [SPF/pack-template/](https://github.com/TserenTserenov/SPF/tree/main/pack-template) — шаблон структуры Pack

### 6.3. Структура Pack (шаблон)

```
PACK-{область}/
├── 00-pack-manifest.md           # Заголовок: имя, версия, BC, типы сущностей
├── 01-domain-contract/
│   ├── 01A-bounded-context.md    # Семантическая рамка
│   ├── 01B-distinctions.md       # Ключевые различения
│   └── 01C-ontology.md           # Сущности и связи
├── 02-domain-entities/
│   ├── 02A-roles.md              # Роли в области
│   ├── 02B-objects-of-attention.md
│   ├── 02C-methods-index.md      # Индекс методов
│   └── 02D-tools-index.md        # Индекс инструментов
├── 03-methods/                    # Карточки методов
├── 04-work-products/              # Карточки рабочих продуктов
├── 05-failure-modes/              # Типичные ошибки
├── 06-sota/                       # SOTA-аннотации
└── 07-map/                        # Навигационная карта
```

### 6.4. Кодирование сущностей (SPF.SPEC.001)

Каждая сущность имеет уникальный ID: `КОНТЕКСТ.ТИП.NNN`

| Часть | Что | Пример |
|-------|-----|--------|
| Контекст | Аббревиатура Pack | DP (digital-platform), MIM, PD |
| Тип | Вид сущности | M (метод), WP (рабочий продукт), D (различение), FM (failure mode) |
| Номер | Уникальный порядковый | 001, 002, ... |

**Примеры:** `DP.M.001` (метод в Pack digital-platform), `MIM.FM.003` (failure mode в Pack MIM)

**Где изучить:**
- [SPF/spec/SPF.SPEC.001-entity-coding.md](https://github.com/TserenTserenov/SPF/blob/main/spec/SPF.SPEC.001-entity-coding.md) — полная спецификация
- [SPF/spec/SPF.SPEC.003-pack-scalability.md](https://github.com/TserenTserenov/SPF/blob/main/spec/SPF.SPEC.003-pack-scalability.md) — масштабирование Pack

---

## 7. Архитектура качества

### 7.1. ArchGate (ЭМОГСС)

**Блокирующее правило:** Любое архитектурное решение оценивается по 6 характеристикам.

| Характеристика | Вопрос |
|----------------|--------|
| **Э**волюционируемость | Что сломается при изменении? |
| **М**асштабируемость | Что будет при 10x? |
| **О**бучаемость | Сколько читать, чтобы начать? |
| **Г**енеративность | Создаёт ли платформу для нового? Работает ли в шаблоне экзокортекса? |
| **С**корость | Какая задержка? (бот <3 сек, CLI <1 сек) |
| **С**овременность | Как решают лучшие? Проверь SOTA. |

**Формат:** Решение → таблица оценки → что слабо → как усилить.

**Где изучить:**
- [CLAUDE.md](./CLAUDE.md) § 5 «АрхГейт»

### 7.2. SOTA-практики (18 штук)

Приоритетная тройка (проверяй ВСЕГДА при архитектурных решениях):

| # | Практика | Суть |
|---|----------|------|
| 1 | Context Engineering | Write/Select/Compress/Isolate — что попадает в контекст агента |
| 2 | DDD Strategic | BC = Pack scope, UL = ontology, Context Map = typed `related:` |
| 3 | Coupling Model | Связи по 3 измерениям: knowledge, distance, volatility |

**Полный список:** 12 платформенных + 6 Pack-архитектурных практик.

**Где изучить:**
- [memory/sota-reference.md](./memory/sota-reference.md) — все 18 практик с описаниями

### 7.3. Чеклисты качества

4 чеклиста для разных ситуаций:

| Чеклист | Когда применять |
|---------|----------------|
| Перед ответом | Хотя бы 1 файл загружен, тип репо известен, источники указаны |
| Перед модификацией | REPO-TYPE.md прочитан, CLAUDE.md понят, source-of-truth не ломается |
| При записи процесса | Pack + PROCESSES.md + CLAUDE.md (все три) |
| Перед предложением fix | ArchGate применён, паттерны проверены, корень проблемы исправлен |

**Где изучить:**
- [memory/checklists.md](./memory/checklists.md) — все чеклисты

---

## 8. Первые принципы (FPF)

### 8.1. Что такое FPF

FPF (First Principles Framework) — это «операционная система для мышления». Она определяет базовые конструкции (холон, bounded context, роль-метод-работа) и правила их комбинирования.

### 8.2. Структура FPF-Spec

| Часть | Содержание | Когда читать |
|-------|-----------|-------------|
| A | Ядро: Холон, BoundedContext, Роль-Метод-Работа | Базовые различения |
| B | Агрегация (Γ-алгебра), Доверие (F-G-R), Циклы эволюции | Понимание процессов |
| C | Доменные расширения (Sys-CAL, KD-CAL, NQD-CAL) | Кастомные исчисления |
| D | Этика и оптимизация конфликтов | Многомасштабные решения |
| E | Конституция и авторство | Управление фреймворком |
| F | Терминология: UTS, Мосты, SenseCells | Кросс-доменное выравнивание |
| G | SoTA Kit | Паттерны knowledge work |

**Как читать:** НЕ последовательно. Сначала оглавление (~200 строк), затем нужные секции через поиск по коду (например `FPF A.7` = Strict Distinction, `FPF B.5` = ADI-цикл).

**Где изучить:**
- [FPF/Readme.md](https://github.com/TserenTserenov/FPF) — обзор «Operating System for Thought»
- [FPF/FPF-Spec.md](https://github.com/TserenTserenov/FPF/blob/main/FPF-Spec.md) — полная спецификация (~50k строк, reference)
- [memory/fpf-reference.md](./memory/fpf-reference.md) — навигация по ключевым секциям

---

## 9. Процессы экосистемы

### 9.1. Различение: Процесс / Сервис / Сценарий

| Термин | Что | Аналогия |
|--------|-----|---------|
| **Процесс** | Логика внутри одной системы | Комната |
| **Сервис** | Точка входа в процесс | Дверь |
| **Сценарий** | Межсистемный путь (владелец меняется) | Путь через здания |

### 9.2. Ключевые сценарии

**Пользовательские:**
- 1.1: Рабочая сессия (Open → Work → Close)
- 1.2: Недельная стратегическая сессия (Week-Review → Session-Prep → Strategy-Session)
- 1.3: Ежедневный/недельный цикл экзокортекса (DayPlan → фокус → DayClose)

**Платформенные:**
- 2.1: Day-Close (сбор коммитов, обновление планов, backup)
- 2.2: Backup экзокортекса (memory/ → DS-strategy/)
- 2.3: Ontology sync (Pack → мастер)
- 2.4: File sync (GitHub → local, каждые 2 мин)
- 2.5: Watch→Trigger (Синхронизатор мониторит условия)
- 2.6: Pack projection (знания из Pack → Downstream)

**Где изучить:**
- [CLAUDE.md](./CLAUDE.md) § 3 «Процессы» — различение и размещение
- [DS-ecosystem-development/PROCESSES.md](https://github.com/TserenTserenov/DS-ecosystem-development/blob/main/PROCESSES.md) — все сценарии подробно

---

## 10. Бот и тиры (T1-T5)

### 10.1. Пять тиров обслуживания

| Тир | Название | Вход | ИИ-роль |
|-----|---------|------|---------|
| T1 | Старт | /start в боте | Ассистент |
| T2 | Изучение | Подписка на программу | Эксперт |
| T3 | Персонализация | Заполнить Digital Twin | Наставник |
| T4 | Созидание (IWE) | setup.sh | Со-мыслитель |
| T5 | Администрирование | Владелец платформы | Архитектор |

Каждый тир — конфигурация 5 измерений: знания, данные, ИИ-роль, действия, рабочее пространство.

### 10.2. Бот (@aist_me_bot)

Telegram-бот — основная точка входа для T1-T3:

| Слой | Что |
|------|-----|
| L1 | Консультант (self-help) |
| L2 | Генератор меню (из реестра сервисов) |
| L3 | Сервисы (Обучение, Планы, Заметки, Twin, Расписание) |
| L4 | Доступ + биллинг (роли, подписки) |
| L5 | Аналитика + Digital Twin (адаптация, трекинг) |

### 10.3. Конверсионная воронка (T1 → T4)

7 триггеров (C1-C7) определяют, когда предложить пользователю следующий тир.

**Где изучить:**
- PACK-digital-platform: `DP.ARCH.002` — тиры обслуживания
- PACK-digital-platform: `DP.AISYS.014` — паспорт бота (18 сценариев)
- PACK-digital-platform: `DP.AGENT.001` § 3 — реестр всех ИИ-систем и ролей

---

## 11. Онтология

### 11.1. Что такое онтология в экзокортексе

Онтология — граф понятий и связей между ними. Каждый Pack имеет свою онтологию. Есть общая (экосистемная) и личная.

| Онтология | Где | Что содержит |
|-----------|-----|-------------|
| SPF-level | `SPF/ontology.md` | Универсальные понятия фреймворка |
| Общая (DP+ECO+MIM) | `DS-ecosystem-development/ontology.md` | 31 понятие: платформа + экосистема + мастерская |
| Личная (PD) | `DS-strategy/ontology.md` | 9 понятий: личное развитие + кросс-связи |
| Pack-level | `PACK-{область}/01-domain-contract/01C-ontology.md` | Сущности конкретного Pack |

### 11.2. Принципы онтологии

- Каждое понятие привязано к **родительскому** из SPF (U.* концепты)
- SPF наследует FPF → Pack расширяет SPF → Downstream ссылается на Pack
- Только Экстрактор знаний меняет онтологию (пользователь предлагает, KE формализует)

**Где изучить:**
- [SPF/ontology.md](https://github.com/TserenTserenov/SPF/blob/main/ontology.md) — SPF-level
- [SPF/docs/conceptual-model.md](https://github.com/TserenTserenov/SPF/blob/main/docs/conceptual-model.md) — концептуальная карта FPF→SPF→Pack→Downstream

---

## 12. Архитектура обновлений

### 12.1. Два потока обновлений

```
Авторская сторона (еженедельно):
  Авторские репо → template-sync.sh → FMT-exocortex-template (GitHub)
                   (подстановка плейсхолдеров + удаление авторского)

Пользовательская сторона (по запросу):
  FMT-exocortex-template → update.sh → git fetch upstream → merge
                                         ↓
                           CLAUDE.md → корень workspace
                           memory/*.md → ~/.claude/projects/
                           (MEMORY.md НИКОГДА не перезаписывается)
```

### 12.2. Классификация файлов

| Категория | Файлы | Обновляется? | Владелец |
|-----------|-------|-------------|----------|
| **Standard** | CLAUDE.md, 7 memory/*.md | Да (авто) | Платформа |
| **Personal** | MEMORY.md, DS-strategy/ | Никогда | Пользователь |
| **Infrastructure** | setup.sh, update.sh, launchd | Редко | Платформа |

### 12.3. 7 плейсхолдеров

| Плейсхолдер | Значение |
|-------------|----------|
| `/Users/alexander/Github` | Рабочая директория |
| `/Users/alexander` | Домашняя директория |
| `alexpoaiagent-sudo` | GitHub username |
| `/usr/local/bin/claude` | Путь к Claude CLI |
| `-Users-alexander-Github` | Slug проекта Claude |
| `4` | UTC час для расписания |
| `4:00 UTC` | Описание таймзоны |

---

## 13. Быстрый справочник

| Вопрос | Ответ | Где |
|--------|-------|-----|
| Куда записать знание? | Pack (доменное), CLAUDE.md (правило), memory/ (урок) | [CLAUDE.md](./CLAUDE.md) § 2 |
| Какой тип у этого репо? | Смотри `REPO-TYPE.md` в репо | `<repo>/REPO-TYPE.md` |
| Это система или эпистема? | Проверь различение #1 | [hard-distinctions.md](./memory/hard-distinctions.md) |
| Можно ли пропустить WP Gate? | Только если ≤15 мин, исследование, или экстренный баг-фикс | [CLAUDE.md](./CLAUDE.md) § 2.4 |
| Как предложить решение? | Сначала ArchGate (6 характеристик) | [CLAUDE.md](./CLAUDE.md) § 5 |
| Какой SOTA применим? | Проверь приоритетную тройку | [sota-reference.md](./memory/sota-reference.md) |
| Где доменное знание? | В Pack-репозиториях | Knowledge MCP или прямое чтение |
| Как закончить сессию? | Протокол Close (8 шагов) | [CLAUDE.md](./CLAUDE.md) § 2.Close |
| Какая моя роль? | Таблица в DP.AGENT.001 | PACK-digital-platform |
| Как создать Pack? | 11 стадий SPF | [SPF/process/](https://github.com/TserenTserenov/SPF/tree/main/process) |
| Как обновить шаблон? | `bash update.sh` | [update.sh](./update.sh) |
| Где моя стратегия? | `DS-strategy/docs/Strategy.md` | После установки |
| Что значит Pack entity ID? | `КОНТЕКСТ.ТИП.NNN` | [SPF.SPEC.001](https://github.com/TserenTserenov/SPF/blob/main/spec/SPF.SPEC.001-entity-coding.md) |

---

## Рекомендованная последовательность изучения

### День 1: Фундамент (2-3 часа)
1. Прочитай жёсткие различения (§ 1.3) — 20 мин
2. Прочитай 5 типов репозиториев (§ 2.1) — 15 мин
3. Прочитай иерархию принципов (§ 1.2) — 15 мин
4. Пробеги FPF reference (§ 8) — 10 мин

### День 2: Протоколы работы (2 часа)
1. Три стадии: Open → Work → Close (§ 3.1) — 15 мин
2. WP Gate + урок (§ 3.2) — 20 мин
3. Ритуал согласования (§ 3.3) — 10 мин
4. Close Protocol (§ 3.5) — 15 мин

### День 3: Инструменты и агенты (1.5 часа)
1. CLAUDE.md и Memory (§ 4.1-4.2) — 20 мин
2. Стратег и Экстрактор (§ 5.1-5.2) — 20 мин
3. ArchGate (§ 7.1) — 15 мин
4. Чеклисты (§ 7.3) — 10 мин

### День 4: Pack и SOTA (1 час)
1. Что такое Pack (§ 6.1) — 10 мин
2. Кодирование сущностей (§ 6.4) — 10 мин
3. SOTA-практики (§ 7.2) — 15 мин
4. Быстрый справочник (§ 13) — 5 мин

### Далее: По мере необходимости
- Создание Pack → § 6.2 + SPF/process/
- Онтология → § 11
- Процессы → § 9
- Бот → § 10

---

*Последнее обновление: 2026-02-19*
